(()=>{"use strict";function e(e,t,n,o){this.title=e,this.description=t,this.priority=n,this.dueDate=o,this.completed=!1}document.addEventListener("DOMContentLoaded",(()=>{function t(){localStorage.setItem("todos",JSON.stringify(n))}let n=function(){const e=localStorage.getItem("todos");return JSON.parse(e)}()||[];const o=document.createElement("div");o.innerHTML='\n    <h1>Todo List</h1>\n    <input type="text" id="todoInput" placeholder="Enter your todo">\n    <input type="text" id="todoDescription" placeholder="Enter todo description">\n    <input type="date" id="todoDueDate"> \x3c!-- Use type="date" for the due date --\x3e\n    <select id="todoPriority">\n      <option value="unset">Select Priority</option>\n      <option value="low">Low</option>\n      <option value="medium">Medium</option>\n      <option value="high">High</option>\n    </select>\n    <button id="addTodoBtn">Add Todo</button>\n    <ul id="todoList"></ul>\n    <div id="errorContainer" class="error-message"></div> \x3c!-- Error container --\x3e\n  ';const i=o.querySelector("#todoInput"),r=o.querySelector("#todoDescription"),d=o.querySelector("#todoDueDate"),a=o.querySelector("#todoPriority"),c=o.querySelector("#addTodoBtn"),l=o.querySelector("#todoList"),u=o.querySelector("#errorContainer");function s(){l.innerHTML="",n.forEach(p)}function p(e){const o=document.createElement("li");var i;o.innerHTML=`\n      <input type="checkbox" ${e.completed?"checked":""}>\n      <span>${e.title}</span>\n      <span>${e.description}</span>\n      <span>Priority: ${e.priority}</span>\n      <span>Due Date: ${i=e.dueDate,new Date(i).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}</span>\n    `;const r=document.createElement("button");r.textContent="Clear",r.addEventListener("click",(()=>function(e){const o=n.indexOf(e);-1!==o&&(n.splice(o,1),t()),s()}(e))),o.appendChild(r),l.appendChild(o)}l.addEventListener("change",(function(e){const o=e.target,i=o.parentElement.querySelector("span").textContent.trim(),r=n.find((e=>e.title===i));r&&(r.completed=o.checked,s(),t())})),c.addEventListener("click",(function(){const o=i.value.trim(),c=r.value.trim(),l=d.value.trim(),s=a.value;function m(e){u.textContent=e}""!==o?""!==c?""!==l?"unset"!==s?(u.textContent="",function(o,a,c,l){const u=new e(o,a,c,l);n.push(u),p(u),i.value="",r.value="",d.value="",t()}(o,c,s,l)):m("Please select a priority level."):m("Please enter a valid due date."):m("Please enter a valid todo description."):m("Please enter a valid todo title.")})),s(),document.getElementById("content").appendChild(o)}))})();